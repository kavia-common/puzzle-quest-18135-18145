{"is_source_file": true, "format": "Kotlin", "description": "This file defines an object `AppSettings` that provides a preferences-based settings repository for an Android app, enabling observation and modification of user settings such as sound, music, haptic feedback, and volume controls using Kotlin coroutines and DataStore.", "external_files": ["android.content.Context", "androidx.datastore.preferences.core.Preferences", "androidx.datastore.preferences.core.booleanPreferencesKey", "androidx.datastore.preferences.core.edit", "androidx.datastore.preferences.core.floatPreferencesKey", "androidx.datastore.preferences.core.intPreferencesKey", "androidx.datastore.preferences.preferencesDataStore", "kotlinx.coroutines.flow.Flow", "kotlinx.coroutines.flow.map"], "external_methods": ["preferencesDataStore", "data", "map", "edit"], "published": ["AppSettings", "observeSoundEnabled", "observeMusicEnabled", "observeHapticEnabled", "setSoundEnabled", "setMusicEnabled", "setHapticEnabled", "observeLastPlayedLevel", "setLastPlayedLevel", "observeSfxVolume", "setSfxVolume", "observeMusicVolume", "setMusicVolume"], "classes": [], "methods": [{"name": "observeSoundEnabled", "description": "Returns a Flow<Boolean> indicating if sound effects are enabled, defaulting to true."}, {"name": "observeMusicEnabled", "description": "Returns a Flow<Boolean> indicating if music is enabled, defaulting to true."}, {"name": "observeHapticEnabled", "description": "Returns a Flow<Boolean> indicating if haptic feedback is enabled, defaulting to true."}, {"name": "setSoundEnabled", "description": "Persists the sound enabled setting."}, {"name": "setMusicEnabled", "description": "Persists the music enabled setting."}, {"name": "setHapticEnabled", "description": "Persists the haptic feedback enabled setting."}, {"name": "observeLastPlayedLevel", "description": "Returns a Flow<Int> representing the last played level, defaulting to 1."}, {"name": "setLastPlayedLevel", "description": "Persists the last played level."}, {"name": "observeSfxVolume", "description": "Returns a Flow<Float> of the sfx volume, defaulting to 1.0."}, {"name": "setSfxVolume", "description": "Persists the sfx volume, coerced within 0f to 1f."}, {"name": "observeMusicVolume", "description": "Returns a Flow<Float> of the music volume, defaulting to 1.0."}, {"name": "setMusicVolume", "description": "Persists the music volume, coerced within 0f to 1f."}], "calls": ["preferencesDataStore", "context.settingsStore.data", "map", "edit"], "search-terms": ["DataStore", "preferences", "settings", "kotlin.coroutines", "Android preferences"], "state": 2, "file_id": 21, "knowledge_revision": 101, "git_revision": "", "hash": "798d475995900703ca01bb7da06010f1", "format-version": 4, "code-base-name": "mobile_game_frontend", "filename": "mobile_game_frontend/app/src/main/kotlin/org/example/app/settings/AppSettings.kt", "revision_history": [{"101": ""}]}